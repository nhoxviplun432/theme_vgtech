import{_ as U}from"../../assets/Swup.modern-CoeACx2H.js";function T(){return T=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},T.apply(this,arguments)}const O=n=>String(n).split(".").map(e=>String(parseInt(e||"0",10))).concat(["0","0"]).slice(0,3).join(".");let L=class{constructor(){this.isSwupPlugin=!0,this.swup=void 0,this.version=void 0,this.requires={},this.handlersToUnregister=[]}mount(){}unmount(){this.handlersToUnregister.forEach(e=>e()),this.handlersToUnregister=[]}_beforeMount(){if(!this.name)throw new Error("You must define a name of plugin when creating a class.")}_afterUnmount(){}_checkRequirements(){return typeof this.requires!="object"||Object.entries(this.requires).forEach(([e,t])=>{if(!function(s,i,a){const v=function(h,p){var u;if(h==="swup")return(u=p.version)!=null?u:"";{var r;const d=p.findPlugin(h);return(r=d==null?void 0:d.version)!=null?r:""}}(s,a);return!!v&&((h,p)=>p.every(u=>{const[,r,d]=u.match(/^([\D]+)?(.*)$/)||[];var m,f;return((c,b)=>{const g={"":l=>l===0,">":l=>l>0,">=":l=>l>=0,"<":l=>l<0,"<=":l=>l<=0};return(g[b]||g[""])(c)})((f=d,m=O(m=h),f=O(f),m.localeCompare(f,void 0,{numeric:!0})),r||">=")}))(v,i)}(e,t=Array.isArray(t)?t:[t],this.swup)){const s=`${e} ${t.join(", ")}`;throw new Error(`Plugin version mismatch: ${this.name} requires ${s}`)}}),!0}on(e,t,s={}){var i;t=!(i=t).name.startsWith("bound ")||i.hasOwnProperty("prototype")?t.bind(this):t;const a=this.swup.hooks.on(e,t,s);return this.handlersToUnregister.push(a),a}once(e,t,s={}){return this.on(e,t,T({},s,{once:!0}))}before(e,t,s={}){return this.on(e,t,T({},s,{before:!0}))}replace(e,t,s={}){return this.on(e,t,T({},s,{replace:!0}))}off(e,t){return this.swup.hooks.off(e,t)}};function $(){return $=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)({}).hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},$.apply(null,arguments)}function j(n){return n.localName!=="title"&&!n.matches("[data-swup-theme]")}function E(n,e){return n.outerHTML===e.outerHTML}function q(n,e=[]){const t=Array.from(n.attributes);return e.length?t.filter(({name:s})=>e.some(i=>i instanceof RegExp?i.test(s):s===i)):t}function R(n){return n.matches("link[rel=stylesheet][href]")}class _ extends L{constructor(e={}){var t;super(),t=this,this.name="SwupHeadPlugin",this.requires={swup:">=4.6"},this.defaults={persistTags:!1,persistAssets:!1,awaitAssets:!1,attributes:["lang","dir"],timeout:3e3},this.options=void 0,this.updateHead=async function(s,{page:{}}){const{awaitAssets:i,attributes:a,timeout:v}=t.options,h=s.to.document,{removed:p,added:u}=function(r,d,{shouldPersist:m=()=>!1}={}){const f=Array.from(r.children),c=Array.from(d.children),b=(g=f,c.reduce((o,y,P)=>(g.some(A=>E(y,A))||o.push({el:y,index:P}),o),[]));var g;const l=function(o,y){return o.reduce((P,A)=>(y.some(H=>E(A,H))||P.push({el:A}),P),[])}(f,c);l.reverse().filter(({el:o})=>j(o)).filter(({el:o})=>!m(o)).forEach(({el:o})=>r.removeChild(o));const w=b.filter(({el:o})=>j(o)).map(o=>{let y=o.el.cloneNode(!0);return r.insertBefore(y,r.children[(o.index||0)+1]||null),$({},o,{el:y})});return{removed:l.map(({el:o})=>o),added:w.map(({el:o})=>o)}}(document.head,h.head,{shouldPersist:r=>t.isPersistentTag(r)});if(t.swup.log(`Removed ${p.length} / added ${u.length} tags in head`),a!=null&&a.length&&function(r,d,m=[]){const f=new Set;for(const{name:c,value:b}of q(d,m))r.setAttribute(c,b),f.add(c);for(const{name:c}of q(r,m))f.has(c)||r.removeAttribute(c)}(document.documentElement,h.documentElement,a),i){const r=function(d,m=0){return d.filter(R).map(f=>function(c,b=0){let g;const l=w=>{c.sheet?w():g=setTimeout(()=>l(w),10)};return new Promise(w=>{l(()=>w(c)),b>0&&setTimeout(()=>{g&&clearTimeout(g),w(c)},b)})}(f,m))}(u,v);r.length&&(t.swup.log(`Waiting for ${r.length} assets to load`),await Promise.all(r))}},this.options=$({},this.defaults,e),this.options.persistAssets&&!this.options.persistTags&&(this.options.persistTags="link[rel=stylesheet], script[src], style")}mount(){this.before("content:replace",this.updateHead)}isPersistentTag(e){const{persistTags:t}=this.options;return typeof t=="function"?t(e):typeof t=="string"&&t.length>0?e.matches(t):!!t}}function x(){return x=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},x.apply(this,arguments)}function S(n,{prefix:e=""}={}){return!!n&&n.startsWith(e)}function k(n,e=[]){const t=Array.from(n.attributes);return e.length?t.filter(({name:s})=>e.some(i=>i instanceof RegExp?i.test(s):s===i)):t}class B extends L{constructor(e={}){super(),this.name="SwupBodyClassPlugin",this.requires={swup:">=4.6"},this.defaults={prefix:"",attributes:[]},this.options=void 0,this.update=t=>{const{prefix:s,attributes:i}=this.options;(function(a,v,{prefix:h=""}={}){const p=[...a.classList].filter(r=>S(r,{prefix:h})),u=[...v.classList].filter(r=>S(r,{prefix:h}));a.classList.remove(...p),a.classList.add(...u)})(document.body,t.to.document.body,{prefix:s}),i!=null&&i.length&&function(a,v,h=[]){const p=new Set;for(const{name:u,value:r}of k(v,h))a.setAttribute(u,r),p.add(u);for(const{name:u}of k(a,h))p.has(u)||a.removeAttribute(u)}(document.body,t.to.document.body,i)},this.options=x({},this.defaults,e)}mount(){this.on("content:replace",this.update)}}new U({containers:["#swup"],plugins:[new _({persistTags:['link[rel="stylesheet"]',"script[data-swup-persist]"]}),new B]});
